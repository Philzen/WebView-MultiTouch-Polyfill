<!--
To change this template, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html>
	<head>
		<title></title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<link href="wmp.css" rel="stylesheet" type="text/css">
		<script type="text/javascript">
			var tapCount = 0;
			var maxTapCount = 0;

			function tellJsWorking() {
				divs.js.setAttribute('class', 'ok');
				divs.js.textContent = 'Javascript is working!';
			}

			function tellInjectionWorking() {
				divs.inject.setAttribute('class', 'ok');
				divs.inject.textContent = 'Excellent - Injection of Javascript from Java Code is working !';
				divs.info.removeAttribute('class');
				divs.info.textContent = 'Now put 1+ fingers on the screen to see how many your device recognises.';
			}

			function incrementTapCount() {
				++tapCount;
				updateTapCount();
			}

		function decrementTapCount() {
			--tapCount;
			updateTapCount();
		}

		function updateTapCount() {
			if (tapCount > 0)
				divs.tap.setAttribute('class', 'ok');

			if (tapCount > maxTapCount)
				maxTapCount = tapCount;

			divs.tap.innerHTML = 'Taps registered: ' + tapCount + '<ul><li>High score: ' + maxTapCount + ' taps</li></ul>';

			if (maxTapCount > 1) {
				divs.info.setAttribute('class', 'awesome');
				divs.info.textContent = '>2 parallel taps registered! See high scores above.';
			}
		}

		function debug(text, startNewLog)
		{
			if (startNewLog)
				return divs.debug.textContent = text;

			return divs.debug.innerHTML = text + '<br />' + divs.debug.innerHTML;
		}
		</script>

	</head>
	<body>
		<ul>
			<li class="ok">Greetings, Earthling!</li>
			<li id="test-js" class="bad">Javascript is not enabled your WebView :(</li>
			<li id="test-inject" class="hidden bad">Injection of Javascript from Java Code is not working :(</li>
			<li id="test-tap" class="hidden"></li>
		</ul>
		<div id="info-wrapper"><div id="info" class="hidden"></div></div>
		<div id="debug"></div>
		<script type="text/javascript">
		var divs =  {
			js: document.getElementById('test-js'),
			inject: document.getElementById('test-inject'),
			tap: document.getElementById('test-tap'),
			debug: document.getElementById('debug'),
			info: document.getElementById('info')
		};

		tellJsWorking();
		</script>
	</body>
</html>
